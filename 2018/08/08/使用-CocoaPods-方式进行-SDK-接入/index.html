<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>使用 CocoaPods 方式进行 SDK 接入 | 图图</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="使用 CocoaPods 方式进行 SDK 接入前言  在游戏项目组接入 SDK 的过程中，会遇到一些或这或那的问题，大部分都是配置上 SDK 或者资源的缺少。那么，有没有一种方法可以让我们设计好配置项，游戏导入就可以运行的方式呢？这时候，CocoaPods 导入第三方库的方式就出现了。通过 CocoaPods 方式导入 SDK，只需要游戏运行一段代码，SDK 就能够自动集成到项目中去，并且，配置">
<meta name="keywords" content="iOS">
<meta property="og:type" content="article">
<meta property="og:title" content="使用 CocoaPods 方式进行 SDK 接入">
<meta property="og:url" content="http://joshua.xin/2018/08/08/使用-CocoaPods-方式进行-SDK-接入/index.html">
<meta property="og:site_name" content="图图">
<meta property="og:description" content="使用 CocoaPods 方式进行 SDK 接入前言  在游戏项目组接入 SDK 的过程中，会遇到一些或这或那的问题，大部分都是配置上 SDK 或者资源的缺少。那么，有没有一种方法可以让我们设计好配置项，游戏导入就可以运行的方式呢？这时候，CocoaPods 导入第三方库的方式就出现了。通过 CocoaPods 方式导入 SDK，只需要游戏运行一段代码，SDK 就能够自动集成到项目中去，并且，配置">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-08-08T09:06:29.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="使用 CocoaPods 方式进行 SDK 接入">
<meta name="twitter:description" content="使用 CocoaPods 方式进行 SDK 接入前言  在游戏项目组接入 SDK 的过程中，会遇到一些或这或那的问题，大部分都是配置上 SDK 或者资源的缺少。那么，有没有一种方法可以让我们设计好配置项，游戏导入就可以运行的方式呢？这时候，CocoaPods 导入第三方库的方式就出现了。通过 CocoaPods 方式导入 SDK，只需要游戏运行一段代码，SDK 就能够自动集成到项目中去，并且，配置">
  
    <link rel="alternate" href="/atom.xml" title="图图" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">图图</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">一个隐秘的地方</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://joshua.xin"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-使用-CocoaPods-方式进行-SDK-接入" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/08/使用-CocoaPods-方式进行-SDK-接入/" class="article-date">
  <time datetime="2018-08-08T08:52:25.000Z" itemprop="datePublished">2018-08-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      使用 CocoaPods 方式进行 SDK 接入
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="使用-CocoaPods-方式进行-SDK-接入"><a href="#使用-CocoaPods-方式进行-SDK-接入" class="headerlink" title="使用 CocoaPods 方式进行 SDK 接入"></a>使用 CocoaPods 方式进行 SDK 接入</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>  在游戏项目组接入 SDK 的过程中，会遇到一些或这或那的问题，大部分都是配置上 SDK 或者资源的缺少。那么，有没有一种方法可以让我们设计好配置项，游戏导入就可以运行的方式呢？这时候，CocoaPods 导入第三方库的方式就出现了。通过 CocoaPods 方式导入 SDK，只需要游戏运行一段代码，SDK 就能够自动集成到项目中去，并且，配置项都自动添加。</p>
<h2 id="CocoaPods-是什么？"><a href="#CocoaPods-是什么？" class="headerlink" title="CocoaPods 是什么？"></a><a href="https://cocoapods.org/" target="_blank" rel="noopener">CocoaPods</a> 是什么？</h2><pre><code>CocoaPods 是 iOS 下的一个第三方库管理工具，通过 CocoaPods 工具，我们可以为项目添加被称为“Pods”的依赖库，可以轻松管理版本。
</code></pre><ul>
<li>在引入第三方工具的时候，可以通过已经配置好的，自动配置项目配置。</li>
<li>可以根据命令自动更新第三方 SDK，而不需要每次下载更新</li>
</ul>
<h2 id="如何使用-CocoaPods"><a href="#如何使用-CocoaPods" class="headerlink" title="如何使用 CocoaPods"></a>如何使用 CocoaPods</h2><ul>
<li>在终端工具中，执行  sudo gem install cocoapods 命令</li>
<li>在工程项目的目录下，执行  pod init 命令，这时候，在工程目录下，就会新建一个文件：Podfile</li>
<li>打开 Podfile 文件，添加需要引用导入的第三方库。如下所示（分别为服务器（本机获取）和通过本地文件获取）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">target &apos;testXXX&apos; do</span><br><span class="line">  pod &apos;XXXXSDK&apos;, :git =&gt; &apos;XXXX&apos;</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>或 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">target &apos;test&apos; do</span><br><span class="line">  pod &apos;XXXXSDK&apos;, :path=&gt;&apos;/Users/xxx/Desktop/XXX&apos;</span><br><span class="line">end</span><br><span class="line">```      </span><br><span class="line">* 完成后，打开终端工具，执行 ： pod install 命令。</span><br><span class="line">* 使用新生成的 ***.xcworkspace 打开即可</span><br><span class="line">* 接下来就是正常的 SDK 调用过程，头文件引用：</span><br></pre></td></tr></table></figure>
<p>  #import &lt;XXXX/XXXXSDK.h&gt;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 如何本地创建一个 Pods 库</span><br><span class="line">作为 SDK 的开发，开发出来的 SDK 是要给项目组进行使用的。为了更好的服务项目组，也为了我们与项目组更好的对接，使用 CocoaPods 可以省去项目组配置的时间以及项目组更新 SDK 的替换动作，只需要执行一个命令： pod update 就能够</span><br><span class="line"></span><br><span class="line">###创建 podspec 文件</span><br><span class="line"></span><br><span class="line">* 新建一个目录，在终端中打开这个目录，并执行  ```pod spec create XXXSDK```命令</span><br><span class="line">* 这时候目录下会生成一个 XXXSDK.podspec 文件</span><br><span class="line"></span><br><span class="line">###编写 podspec 文件</span><br><span class="line"></span><br><span class="line">* 打开 XXXSDK.podspec 如下图所示：</span><br><span class="line">![ XXXSDK.podspec]( XXXSDK.podspec)</span><br></pre></td></tr></table></figure></p>
<p>podspec 文件中名称含义：<br>name：框架名<br>version：当前版本（注意，是当前版本，假如你后续更新了新版本，需要修改此处）<br>summary：简要描述，在pod search ZCPKit的时候会显示该信息。<br>description：详细描述<br>homepage：页面链接<br>license：开源协议<br>author：作者<br>source：源码git地址<br>platform：支持最低ios版本<br>source_files：源文件（可以包含.h和.m）<br>public_header_files：头文件(.h文件)<br>resources：资源文件（配置的文件都会被放到mainBundle中）<br>resource_bundles：资源文件（配置的文件会放到你自己指定的bundle中）<br>frameworks：依赖的系统框架<br>vendored_frameworks：依赖的非系统框架<br>libraries：依赖的系统库<br>vendored_libraries：依赖的非系统的静态库<br>dependency：依赖的三方库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 为了能够引入我们的 SDK，并且使文件分类，现在当前目录下新建几个文件夹，用来放置所需要的文件内容</span><br></pre></td></tr></table></figure>
<p>┗━━━━Classes （放置源代码文件或者头文件）<br><br>┗━━━━Frameworks （放置 Framework 文件） <br><br>┗━━━━Libraries （放置.a 文件）<br><br>┗━━━━Resources （放置资源文件）<br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![podspec文件目录](podspec文件目录)</span><br><span class="line"></span><br><span class="line">* 下列为集成 XXXsdk 所用的 pod 文件</span><br></pre></td></tr></table></figure></p>
<p>Pod::Spec.new do |s|</p>
<p>  s.name         = “XXXXSDK” //指定名称<br>  s.version      = “0.0.3”      //版本号<br>  s.summary      = “XXXX SDK test”  //简单描述内容</p>
<p>  s.description  = “XXX接入 SDK。详细请联系” //详细描述</p>
<p>  s.homepage     = “<a href="http://www.XXXX.com&quot;" target="_blank" rel="noopener">http://www.XXXX.com&quot;</a> //对应主页</p>
<p>  s.license      = { :type =&gt; “MIT”, :file =&gt; “MITLICENSE.txt” }//遵循的许可证协议</p>
<p>  s.author       = { “<a href="mailto:treewalker.fu@gmail.com" target="_blank" rel="noopener">treewalker.fu@gmail.com</a>“ =&gt; “<a href="mailto:treewalker.fu@gmail.com" target="_blank" rel="noopener">treewalker.fu@gmail.com</a>“ } //作者信息</p>
<p>  s.platform     = :ios, “6.0”  //支持的平台系统<br>  s.source       = { :git =&gt; “”, :tag =&gt; “#{s.version}” } //源代码的 git 地址<br>  s.source_files  = “Classes”, “Classes/<strong>/*.{h,m}” //源文件（包含目录下的所有 h、m 文件）<br>  s.public_header_files = “Classes/</strong>/<em>.h”  //头文件（这边是提供给项目组调用的头文件）<br>  s.vendored_frameworks = “Frameworks/</em>.framework” //SDK 包，提供给项目组的 SDK<br>  s.frameworks = “MessageUI”, “AudioToolbox”, “AVFoundation”, “EventKitUI”, “EventKit”, “MediaPlayer”, “StoreKit”, “AdSupport”, “GameKit”, “UIKit”, “Foundation”, “iAd”, “CoreLocation”, “SystemConfiguration”, “WebKit” //系统的 framework<br>  s.libraries = “z.1”, “sqlite3”, “sqlite3”, “sqlite3”, “sqlite3” //系统的.a 库<br>  s.resources = “Resources/XXX_Config.plist”,”Resources/<em>.xib”,”Resources/</em>.bundle”, “Resources/Localization/*<em>/</em>.strings” //资源文件<br>  s.xcconfig  =  {<br>    ‘OTHER_LDFLAGS’ =&gt; ‘-ObjC’,<br>    ‘ENABLE_BITCODE’ =&gt; ‘NO’<br>  } // xcode 配置项设置 </p>
<p>end<br><code>`</code></p>
<ul>
<li>其中，s.vendored_frameworks 是引用非系统库，s.libraries 里面不需要增加 lib 前缀，只需要 sqlite3 即可。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://joshua.xin/2018/08/08/使用-CocoaPods-方式进行-SDK-接入/" data-id="cjkkv02hv0003l2rlmaq2pjvm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2018/06/28/iOS-12新功能/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">iOS 12新功能</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/iOS/" style="font-size: 10px;">iOS</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/08/08/使用-CocoaPods-方式进行-SDK-接入/">使用 CocoaPods 方式进行 SDK 接入</a>
          </li>
        
          <li>
            <a href="/2018/06/28/iOS-12新功能/">iOS 12新功能</a>
          </li>
        
          <li>
            <a href="/2018/05/30/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 兔兔<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>